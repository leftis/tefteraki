/*
Copyright (c) 2003-2012, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.html or http://ckeditor.com/license
*/
/**
 * @fileOverview Defines the {@link CKEDITOR.loader} objects, which is used to
 *		load core scripts and their dependencies from _source.
 */
typeof CKEDITOR=="undefined"&&(CKEDITOR={}),CKEDITOR.loader||(CKEDITOR.loader=function(){var e={"core/_bootstrap":["core/config","core/ckeditor","core/plugins","core/scriptloader","core/tools","core/dom/comment","core/dom/elementpath","core/dom/text","core/dom/rangelist"],"core/ckeditor":["core/ckeditor_basic","core/dom","core/dtd","core/dom/document","core/dom/element","core/editor","core/event","core/htmlparser","core/htmlparser/element","core/htmlparser/fragment","core/htmlparser/filter","core/htmlparser/basicwriter","core/tools"],"core/ckeditor_base":[],"core/ckeditor_basic":["core/editor_basic","core/env","core/event"],"core/command":[],"core/config":["core/ckeditor_base"],"core/dom":[],"core/dom/comment":["core/dom/node"],"core/dom/document":["core/dom","core/dom/domobject","core/dom/window"],"core/dom/documentfragment":["core/dom/element"],"core/dom/element":["core/dom","core/dom/document","core/dom/domobject","core/dom/node","core/dom/nodelist","core/tools"],"core/dom/elementpath":["core/dom/element"],"core/dom/event":[],"core/dom/node":["core/dom/domobject","core/tools"],"core/dom/nodelist":["core/dom/node"],"core/dom/domobject":["core/dom/event"],"core/dom/range":["core/dom/document","core/dom/documentfragment","core/dom/element","core/dom/walker"],"core/dom/rangelist":["core/dom/range"],"core/dom/text":["core/dom/node","core/dom/domobject"],"core/dom/walker":["core/dom/node"],"core/dom/window":["core/dom/domobject"],"core/dtd":["core/tools"],"core/editor":["core/command","core/config","core/editor_basic","core/focusmanager","core/lang","core/plugins","core/skins","core/themes","core/tools","core/ui"],"core/editor_basic":["core/event"],"core/env":[],"core/event":[],"core/focusmanager":[],"core/htmlparser":[],"core/htmlparser/comment":["core/htmlparser"],"core/htmlparser/element":["core/htmlparser","core/htmlparser/fragment"],"core/htmlparser/fragment":["core/htmlparser","core/htmlparser/comment","core/htmlparser/text","core/htmlparser/cdata"],"core/htmlparser/text":["core/htmlparser"],"core/htmlparser/cdata":["core/htmlparser"],"core/htmlparser/filter":["core/htmlparser"],"core/htmlparser/basicwriter":["core/htmlparser"],"core/lang":[],"core/plugins":["core/resourcemanager"],"core/resourcemanager":["core/scriptloader","core/tools"],"core/scriptloader":["core/dom/element","core/env"],"core/skins":["core/scriptloader"],"core/themes":["core/resourcemanager"],"core/tools":["core/env"],"core/ui":[]},t=function(){if(CKEDITOR&&CKEDITOR.basePath)return CKEDITOR.basePath;var e="",t=document.getElementsByTagName("script");for(var n=0;n<t.length;n++){var r=t[n].src.match(/(^|.*?[\\\/])(?:_source\/)?core\/loader.js(?:\?.*)?$/i);if(r){e=r[1];break}}return e.indexOf("://")==-1&&(e.indexOf("/")===0?e=location.href.match(/^.*?:\/\/[^\/]*/)[0]+e:e=location.href.match(/^[^\?]*\//)[0]+e),e}(),n="C9A85WF",r=function(e){return CKEDITOR&&CKEDITOR.getUrl?CKEDITOR.getUrl(e):t+e+(e.indexOf("?")>=0?"&":"?")+"t="+n},i=[];return{loadedScripts:[],loadPending:function(){function s(){CKEDITOR.loader.loadedScripts.push(e),CKEDITOR.loader.loadPending()}var e=i.shift();if(!e)return;var t=r("_source/"+e+".js"),n=document.createElement("script");n.type="text/javascript",n.src=t,typeof n.onreadystatechange!="undefined"?n.onreadystatechange=function(){if(n.readyState=="loaded"||n.readyState=="complete")n.onreadystatechange=null,s()}:n.onload=function(){setTimeout(function(){s(e)},0)},document.body.appendChild(n)},load:function(t,n){if(t in this.loadedScripts)return;var s=e[t];if(!s)throw'The script name"'+t+'" is not defined.';this.loadedScripts[t]=!0;for(var o=0;o<s.length;o++)this.load(s[o],!0);var u=r("_source/"+t+".js");document.body&&(!document.readyState||document.readyState=="complete")?(i.push(t),n||this.loadPending()):(this.loadedScripts.push(t),document.write('<script src="'+u+'" type="text/javascript"></script>'))}}}()),CKEDITOR._autoLoad&&(CKEDITOR.loader.load(CKEDITOR._autoLoad),delete CKEDITOR._autoLoad);