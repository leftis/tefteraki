/*
Copyright (c) 2003-2012, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.html or http://ckeditor.com/license
*/
(function(){function e(e){var t=this.att,n=e&&e.hasAttribute(t)&&e.getAttribute(t)||"";n!==undefined&&this.setValue(n)}function t(){var e;for(var t=0;t<arguments.length;t++)if(arguments[t]instanceof CKEDITOR.dom.element){e=arguments[t];break}if(e){var n=this.att,r=this.getValue();r?e.setAttribute(n,r):e.removeAttribute(n,r)}}CKEDITOR.plugins.add("dialogadvtab",{createAdvancedTab:function(n,r){r||(r={id:1,dir:1,classes:1,styles:1});var i=n.lang.common,s={id:"advanced",label:i.advancedTab,title:i.advancedTab,elements:[{type:"vbox",padding:1,children:[]}]},o=[];if(r.id||r.dir)r.id&&o.push({id:"advId",att:"id",type:"text",label:i.id,setup:e,commit:t}),r.dir&&o.push({id:"advLangDir",att:"dir",type:"select",label:i.langDir,"default":"",style:"width:100%",items:[[i.notSet,""],[i.langDirLTR,"ltr"],[i.langDirRTL,"rtl"]],setup:e,commit:t}),s.elements[0].children.push({type:"hbox",widths:["50%","50%"],children:[].concat(o)});if(r.styles||r.classes)o=[],r.styles&&o.push({id:"advStyles",att:"style",type:"text",label:i.styles,"default":"",validate:CKEDITOR.dialog.validate.inlineStyle(i.invalidInlineStyle),onChange:function(){},getStyle:function(e,t){var n=this.getValue().match(new RegExp(e+"\\s*:\\s*([^;]*)","i"));return n?n[1]:t},updateStyle:function(e,t){var r=this.getValue(),i=n.document.createElement("span");i.setAttribute("style",r),i.setStyle(e,t),r=CKEDITOR.tools.normalizeCssText(i.getAttribute("style")),this.setValue(r,1)},setup:e,commit:t}),r.classes&&o.push({type:"hbox",widths:["45%","55%"],children:[{id:"advCSSClasses",att:"class",type:"text",label:i.cssClasses,"default":"",setup:e,commit:t}]}),s.elements[0].children.push({type:"hbox",widths:["50%","50%"],children:[].concat(o)});return s}})})();