/*
Copyright (c) 2003-2012, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.html or http://ckeditor.com/license
*/
CKEDITOR.plugins.add("format",{requires:["richcombo","styles"],init:function(e){var t=e.config,n=e.lang.format,r=t.format_tags.split(";"),i={};for(var s=0;s<r.length;s++){var o=r[s];i[o]=new CKEDITOR.style(t["format_"+o]),i[o]._.enterMode=e.config.enterMode}e.ui.addRichCombo("Format",{label:n.label,title:n.panelTitle,className:"cke_format",panel:{css:e.skin.editor.css.concat(t.contentsCss),multiSelect:!1,attributes:{"aria-label":n.panelTitle}},init:function(){this.startGroup(n.panelTitle);for(var e in i){var t=n["tag_"+e];this.add(e,i[e].buildPreview(t),t)}},onClick:function(t){e.focus(),e.fire("saveSnapshot");var n=i[t],r=new CKEDITOR.dom.elementPath(e.getSelection().getStartElement());n[n.checkActive(r)?"remove":"apply"](e.document),setTimeout(function(){e.fire("saveSnapshot")},0)},onRender:function(){e.on("selectionChange",function(t){var n=this.getValue(),r=t.data.path;for(var s in i)if(i[s].checkActive(r)){s!=n&&this.setValue(s,e.lang.format["tag_"+s]);return}this.setValue("")},this)}})}}),CKEDITOR.config.format_tags="p;h1;h2;h3;h4;h5;h6;pre;address;div",CKEDITOR.config.format_p={element:"p"},CKEDITOR.config.format_div={element:"div"},CKEDITOR.config.format_pre={element:"pre"},CKEDITOR.config.format_address={element:"address"},CKEDITOR.config.format_h1={element:"h1"},CKEDITOR.config.format_h2={element:"h2"},CKEDITOR.config.format_h3={element:"h3"},CKEDITOR.config.format_h4={element:"h4"},CKEDITOR.config.format_h5={element:"h5"},CKEDITOR.config.format_h6={element:"h6"};