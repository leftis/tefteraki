/*
Copyright (c) 2003-2012, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.html or http://ckeditor.com/license
*/
// Register a plugin named "sample".
CKEDITOR.plugins.add("keystrokes",{beforeInit:function(e){e.keystrokeHandler=new CKEDITOR.keystrokeHandler(e),e.specialKeys={}},init:function(e){var t=e.config.keystrokes,n=e.config.blockedKeystrokes,r=e.keystrokeHandler.keystrokes,i=e.keystrokeHandler.blockedKeystrokes;for(var s=0;s<t.length;s++)r[t[s][0]]=t[s][1];for(s=0;s<n.length;s++)i[n[s]]=1}}),CKEDITOR.keystrokeHandler=function(e){return e.keystrokeHandler?e.keystrokeHandler:(this.keystrokes={},this.blockedKeystrokes={},this._={editor:e},this)},function(){var e,t=function(t){t=t.data;var n=t.getKeystroke(),r=this.keystrokes[n],i=this._.editor;e=i.fire("key",{keyCode:n})===!0;if(!e){if(r){var s={from:"keystrokeHandler"};e=i.execCommand(r,s)!==!1}if(!e){var o=i.specialKeys[n];e=o&&o(i)===!0,e||(e=!!this.blockedKeystrokes[n])}}return e&&t.preventDefault(!0),!e},n=function(t){e&&(e=!1,t.data.preventDefault(!0))};CKEDITOR.keystrokeHandler.prototype={attach:function(e){e.on("keydown",t,this),(CKEDITOR.env.opera||CKEDITOR.env.gecko&&CKEDITOR.env.mac)&&e.on("keypress",n,this)}}}(),CKEDITOR.config.blockedKeystrokes=[CKEDITOR.CTRL+66,CKEDITOR.CTRL+73,CKEDITOR.CTRL+85],CKEDITOR.config.keystrokes=[[CKEDITOR.ALT+121,"toolbarFocus"],[CKEDITOR.ALT+122,"elementsPathFocus"],[CKEDITOR.SHIFT+121,"contextMenu"],[CKEDITOR.CTRL+CKEDITOR.SHIFT+121,"contextMenu"],[CKEDITOR.CTRL+90,"undo"],[CKEDITOR.CTRL+89,"redo"],[CKEDITOR.CTRL+CKEDITOR.SHIFT+90,"redo"],[CKEDITOR.CTRL+76,"link"],[CKEDITOR.CTRL+66,"bold"],[CKEDITOR.CTRL+73,"italic"],[CKEDITOR.CTRL+85,"underline"],[CKEDITOR.ALT+(CKEDITOR.env.ie||CKEDITOR.env.webkit?189:109),"toolbarCollapse"],[CKEDITOR.ALT+48,"a11yHelp"]];